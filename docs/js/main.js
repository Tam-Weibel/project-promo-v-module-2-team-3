const T=document.querySelector(".js-form");document.querySelector(".radio");const s=document.getElementById("name"),c=document.getElementById("job"),h=document.getElementById("photo"),n=document.getElementById("email"),a=document.getElementById("phone"),r=document.getElementById("linkedin"),d=document.getElementById("github");document.querySelector(".js-photo");const b=document.querySelector(".preview__text--title"),S=document.querySelector(".preview__text--p"),k=document.querySelector(".social__email"),q=document.querySelector(".social__linkedin"),I=document.querySelector(".social__github"),_=document.querySelector(".social__phone"),A=document.querySelector(".js-open"),j=document.querySelector(".js-create"),v=document.querySelector(".js-errorEmail"),f=document.querySelector(".js-errorPhone"),g=document.querySelector(".js-errorLinkedin"),L=document.querySelector(".js-errorGithub");document.querySelector(".form_designs-div");document.querySelector(".form");document.querySelectorAll(".icon");const P=document.querySelectorAll(".js-section"),u=document.querySelectorAll(".form_box"),y=document.querySelector(".js-share"),F=e=>{const l=e.currentTarget.parentNode;for(const p of u)p===l?p.classList.remove("collapsable--close"):p.classList.add("collapsable--close")};u[0].classList.remove("collapsable--close");for(const e of P)e.addEventListener("click",F);const o={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},H=e=>{e.preventDefault();const t=e.target.id;if(t==="name")b.innerHTML=s.value,o.name=s.value;else if(t==="job")S.innerHTML=c.value,o.job=c.value;else if(t==="email")o.email=n.value,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.value)?(k.href="mailto:"+n.value,v.classList.add("hidden")):v.classList.remove("hidden");else if(t==="phone")o.phone=a.value,/^\d{9}$/.test(a.value)?(_.href="tel:"+a.value,f.classList.add("hidden")):f.classList.remove("hidden");else if(t==="linkedin"){const l=r.value.substring(16);console.log(l),o.linkedin=l,/^linkedin\.com\/in\/[a-zA-Z0-9-]+(?:-[a-zA-Z0-9]+)*\/?$/.test(r.value)?(q.href="https://"+r.value,g.classList.add("hidden")):g.classList.remove("hidden")}else if(t==="github"){const l=d.value;/^@[a-zA-Z\d](?:[a-zA-Z\d]|-(?=[a-zA-Z\d])){0,38}$/.test(l)?(I.href="https://github.com/"+l.substring(1),o.github=l.substring(1),L.classList.add("hidden")):L.classList.remove("hidden")}else(t==="one"||t==="two"||t==="three"||t==="four"||t==="five")&&(o.palette=parseInt(e.target.value))};function M(){A.classList.remove("hidden"),j.classList.add("share__grey")}function O(e){y.href=y.href+e}function B(e){const t=document.querySelector(".created__link"),l=document.querySelector(".linkText");t.href=e,l.innerHTML=e}function R(e){e.preventDefault(),localStorage.setItem("localForm",JSON.stringify(o)),fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{console.log(t),M(),B(t.cardURL),O(t.cardURL)})}document.addEventListener("DOMContentLoaded",()=>{$(),T.addEventListener("input",H)});j.addEventListener("click",R);const $=()=>{const e=JSON.parse(localStorage.getItem("localForm"));if(e){s.value=e.name,c.value=e.job,n.value=e.email,a.value=e.phone,r.value=e.linkedin,d.value=e.github,h.src=e.photo;const t=document.querySelectorAll(".radio");for(const l of t)parseInt(l.value)===e.palette&&(l.checked=!0);o.name=s.value,o.job=c.value,o.email=n.value,o.phone=a.value,o.linkedin=r.value,o.github=d.value,o.palette=parseInt(document.querySelector(".radio:checked").value),o.photo=h.src,b.innerHTML=s.value,S.innerHTML=c.value,k.href=n.value,_.href=a.value,q.href=r.value,I.href=d.value,E.style.backgroundImage=`url(${e.photo})`,w.style.backgroundImage=`url(${e.photo})`,i.classList.remove("palete-1","palete-2","palete-3","palete-4","palete-5"),i.classList.add("palete-"+e.palette)}},N=document.querySelector(".js-btnReset");function x(){s.value="",c.value="",h.value="",n.value="",a.value="",r.value="",d.value="",b.innerHTML="Nombre Apellido",S.innerHTML="Front-end developer",k.href="",_.href="",q.href="",I.href="",E.style.backgroundImage="",w.style.backgroundImage="",A.classList.add("hidden"),j.classList.remove("share__grey"),u[0].classList.remove("collapsable--close"),u[1].classList.add("collapsable--close"),u[2].classList.add("collapsable--close"),i.classList.remove("palete-1","palete-2","palete-3","palete-4","palete-5"),i.classList.add("palete-1"),document.getElementById("one").checked=!0,y.href="https://twitter.com/intent/tweet?text=Mira mi nueva tarjeta&url=",v.classList.add("hidden"),f.classList.add("hidden"),g.classList.add("hidden"),L.classList.add("hidden"),localStorage.clear()}N.addEventListener("click",x);const i=document.querySelector(".preview"),C=document.querySelectorAll(".radio");for(const e of C)e.addEventListener("click",z);function z(e){const t=e.target.value;i.classList.remove("palete-1","palete-2","palete-3","palete-4","palete-5"),i.classList.add("palete-"+t)}const m=new FileReader,D=document.querySelector(".form__photo--input"),E=document.querySelector(".js-photo"),w=document.querySelector(".miniphoto");function J(e){const t=e.currentTarget.files[0];m.addEventListener("load",U),m.readAsDataURL(t)}function U(){o.photo=m.result,E.style.backgroundImage=`url(${m.result})`,w.style.backgroundImage=`url(${m.result})`}D.addEventListener("change",J);
//# sourceMappingURL=main.js.map
